# –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π - –û–¢–ß–ï–¢

## ‚úÖ –£–°–ü–ï–®–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

### 1. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–§–∞–π–ª**: `constraint_registry.py`
- **–ö–ª–∞—Å—Å**: `ConstraintRegistry`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –í—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã**: 13 —Ç–∏–ø–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π (sequential, resource_conflict, time_window, chain_ordering, etc.)

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OR-Tools CP-SAT
- **–§–∞–π–ª**: `scheduler_base.py`
- **–ú–µ—Ç–æ–¥**: `add_constraint()`
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –º–æ–¥–µ–ª—å —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ INFEASIBLE
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤** –ø—Ä–∏ –Ω–µ—Ä–∞–∑—Ä–µ—à–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏
- **–î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤** –∏ –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π** –∏ –∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—é

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫):
- **–í—Å–µ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ**: 52
- **–ü—Ä–æ–ø—É—â–µ–Ω–æ**: 22
- **–ò—Å–∫–ª—é—á–µ–Ω–∏—è**: 0
- **–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤**: 0

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º:
- `room_conflict`: 24 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- `time_window`: 14 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π  
- `other`: 8 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
- `chain_ordering`: 6 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

### –ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
- `resource_constraints`: 24
- `chain_constraints`: 18
- `separation_constraints`: 10

## üîç –ê–ù–ê–õ–ò–ó –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–´–• –ö–û–ù–§–õ–ò–ö–¢–û–í

### –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ù–∞–∏–±–æ–ª–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø–∞—Ä—ã –∫–ª–∞—Å—Å–æ–≤**:
   - Classes 0 ‚Üî 1: 4 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (chain_ordering, room_conflict)
   - Classes 0 ‚Üî 2: 3 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (room_conflict)
   - Classes 3 ‚Üî 5: 3 –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (room_conflict)

2. **–ü—Ä–∏—á–∏–Ω–∞ INFEASIBLE**:
   - –ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤
   - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –±–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤

## üéØ –ö–õ–Æ–ß–ï–í–´–ï –û–°–û–ë–ï–ù–ù–û–°–¢–ò

### Centralized Constraint Logging:
```python
# –í—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ª–æ–≥–≥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑:
self.constraint_registry.add_constraint(
    constraint_type='room_conflict',
    constraint_obj=constraint,
    description=f"Room conflict: classes {i} and {j}",
    classes=[i, j],
    origin_module='resource_constraints'
)
```

### Automatic INFEASIBLE Analysis:
```python
# –ü—Ä–∏ INFEASIBLE –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –æ—Ç—á–µ—Ç:
if status == cp_model.INFEASIBLE:
    self.constraint_registry.print_infeasible_summary()
    self.constraint_registry.export_constraint_registry('constraint_registry_infeasible.txt')
```

### Constraint Type Detection:
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π OR-Tools:
if hasattr(constraint, 'OnlyEnforceIf'):
    return 'enforced_constraint'
elif hasattr(constraint, 'Not'):
    return 'boolean_constraint'
else:
    return 'general_constraint'
```

## üöÄ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê –°–ò–°–¢–ï–ú–´

1. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤—Å–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤–∏–¥–Ω—ã –∏ –ª–æ–≥–≥–∏—Ä—É—é—Ç—Å—è
2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –≤—ã—è–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã
3. **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö
4. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
5. **–û—Ç–ª–∞–¥–∫–∞** - –ø—Ä–æ—Å—Ç–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–æ–±–ª–µ–º

## üìÅ –§–ê–ô–õ–´ –û–¢–ß–ï–¢–û–í

- `constraint_registry_infeasible.txt` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏ INFEASIBLE
- `OPTIMIZATION_REPORT.md` - –æ–±—â–∏–π –æ—Ç—á–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–æ—Ü–µ—Å—Å–∞

## ‚úÖ –°–¢–ê–¢–£–°: –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–û

–°–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –ø—Ä–æ–µ–∫—Ç —à–∫–æ–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä–µ–º–µ.
